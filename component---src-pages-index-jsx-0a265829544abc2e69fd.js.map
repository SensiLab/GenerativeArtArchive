{"version":3,"file":"component---src-pages-index-jsx-0a265829544abc2e69fd.js","mappings":"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","sources":["webpack://generative-art-archive/./src/components/entry-preview.jsx","webpack://generative-art-archive/./src/components/entry-preview.module.css","webpack://generative-art-archive/./src/pages/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"gatsby\";\nimport { StaticImage } from \"gatsby-plugin-image\";\n\nimport * as styles from \"./entry-preview.module.css\";\n\nconst EntryPreview = ({ node }) => {\n  const { slug, frontmatter } = node;\n  const { title, description, tags, thumbnail } = frontmatter;\n  const [allTags, setAllTags] = useState([]);\n\n  useEffect(() => {\n    if (tags) {\n      const tagSet = new Set();\n      tags.split(\",\").forEach((tag) => {\n        if (tag.length > 0) {\n          const formattedTag = tag.replace(/-/g, \" \").trim();\n          tagSet.add(formattedTag);\n        }\n      });\n      const tagArray = Array.from(tagSet);\n      setAllTags(tagArray);\n    }\n  }, [tags]);\n\n  return (\n    <div className={styles.previewContainer}>\n      {/* Left Section (Text) */}\n      <div className={styles.previewLeft}>\n        <div className={styles.icon}>\n          <div>\n            <StaticImage\n              src=\"../images/entry-preview-icon.svg\"\n              alt=\"Entry preview icon\"\n              width={15}\n              height={15}\n            />\n          </div>\n        </div>\n        <div className={styles.textContainer}>\n          <div>\n            <Link to={slug} className={styles.titleLink}>\n              <h1 className={styles.titleText}>{title.toUpperCase()}</h1>\n            </Link>\n          </div>\n          <div className={styles.descriptionContainer}>{description}</div>\n        </div>\n        <div className={styles.tagsContainer}>\n          <div className={styles.tagsInner}>\n            {allTags &&\n              allTags.length > 0 &&\n              allTags.map((tag, index) => (\n                <i key={index} className={styles.tag}>\n                  {tag}\n                  {index < allTags.length - 1 && \", \"}\n                </i>\n              ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Right Section (Image) */}\n      <div className={styles.previewRight}>\n        <div className={styles.imageContainer}>\n          {thumbnail && (\n            <Link to={slug} className={styles.imageLink}>\n              <img\n                className={styles.image}\n                src={thumbnail.publicURL}\n                alt={title}\n              />\n            </Link>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EntryPreview;\n","// extracted by mini-css-extract-plugin\nexport var descriptionContainer = \"entry-preview-module--descriptionContainer--6d689\";\nexport var icon = \"entry-preview-module--icon--ac6e8\";\nexport var image = \"entry-preview-module--image--8e5be\";\nexport var imageContainer = \"entry-preview-module--imageContainer--ef940\";\nexport var imageLink = \"entry-preview-module--imageLink--0428b\";\nexport var previewContainer = \"entry-preview-module--previewContainer--f3afa\";\nexport var previewLeft = \"entry-preview-module--previewLeft--80b8c\";\nexport var previewRight = \"entry-preview-module--previewRight--73263\";\nexport var tag = \"entry-preview-module--tag--ff248\";\nexport var tagsContainer = \"entry-preview-module--tagsContainer--7d794\";\nexport var tagsInner = \"entry-preview-module--tagsInner--8f6fe\";\nexport var textContainer = \"entry-preview-module--textContainer--a3d2c\";\nexport var titleLink = \"entry-preview-module--titleLink--03535\";\nexport var titleText = \"entry-preview-module--titleText--b9b92\";","import React, { useEffect, useState } from \"react\";\n\nimport \"./global.css\";\nimport \"./index.css\";\nimport \"../components/content-list.css\";\nimport { useEntriesData } from \"../entry-queries\";\n\nimport Layout from \"../components/layout\";\nimport EntryPreview from \"../components/entry-preview\";\n\nimport { CATEGORIES, CATEGORIES_TO_FILTER_MAP } from \"../constants/categories\";\n\nimport { useCategory } from \"../contexts/CategoryContext\";\nimport { useTag } from \"../contexts/TagContext\";\n\nconst HomePage = () => {\n  const { currentCategory } = useCategory();\n  const [randomEntry, setRandomEntry] = useState(null);\n  const { tagObject, allTags, setAllTags, currentTag, handleTagChange } =\n    useTag();\n  const entries = useEntriesData();\n  const entriesFilteredByCategory =\n    entries[CATEGORIES_TO_FILTER_MAP[currentCategory]];\n  const [entriesFilteredByTag, setEntriesFilteredByTag] = useState([]);\n\n  function getRandomElement(array) {\n    return array[Math.floor(Math.random() * array.length)];\n  }\n\n  const tagCallback = (tag) => {\n    handleTagChange(tag);\n  };\n\n  useEffect(() => {\n    const randomCategory = getRandomElement(Object.keys(CATEGORIES));\n    const filter = CATEGORIES_TO_FILTER_MAP[randomCategory];\n    const entriesFromRandomCategory = entries[filter].nodes.filter((entry) => {\n      return entry.frontmatter.description !== null;\n    });\n    const randomEntry = getRandomElement(entriesFromRandomCategory);\n    setRandomEntry(randomEntry);\n  }, [entries]);\n\n  // Set tags based on entries in current category\n  useEffect(() => {\n    if (tagObject) {\n      const tagArray = tagObject[currentCategory];\n      setAllTags(tagArray);\n      handleTagChange(tagArray[0]);\n    }\n  }, [currentCategory, tagObject]);\n\n  useEffect(() => {\n    if (currentTag === \"all\") {\n      setEntriesFilteredByTag(entriesFilteredByCategory.nodes);\n    } else {\n      const filteredEntries = entriesFilteredByCategory.nodes.filter(\n        (entry) => {\n          if (entry.frontmatter.tags) {\n            const entryTags = entry.frontmatter.tags\n              .split(\",\")\n              .map((tag) => tag.trim());\n            return entryTags.includes(currentTag);\n          }\n          return false;\n        }\n      );\n      setEntriesFilteredByTag(filteredEntries);\n    }\n  }, [currentTag, entriesFilteredByCategory]);\n\n  return (\n    <main className=\"homepage\">\n      <title>Home Page</title>\n\n      <section className=\"full\">\n        <Layout\n          featuredArticle={randomEntry}\n          entries={entriesFilteredByCategory.nodes}\n          tags={allTags}\n          currentTag={currentTag}\n          tagCallback={tagCallback}\n        >\n          <div id=\"entry-list-container\">\n            {entriesFilteredByTag.map((node) => (\n              <EntryPreview key={node.frontmatter.title} node={node} />\n            ))}\n          </div>\n        </Layout>\n      </section>\n    </main>\n  );\n};\n\nconst Index = () => {\n  return <HomePage />;\n};\n\nexport default Index;\n"],"names":["_ref","node","slug","frontmatter","title","description","tags","thumbnail","allTags","setAllTags","useState","useEffect","tagSet","Set","split","forEach","tag","length","formattedTag","replace","trim","add","tagArray","Array","from","React","className","StaticImage","src","alt","width","height","__imageData","require","Link","to","toUpperCase","map","index","key","publicURL","HomePage","currentCategory","useCategory","randomEntry","setRandomEntry","tagObject","currentTag","handleTagChange","useTag","entries","useEntriesData","entriesFilteredByCategory","CATEGORIES_TO_FILTER_MAP","entriesFilteredByTag","setEntriesFilteredByTag","getRandomElement","array","Math","floor","random","randomCategory","Object","keys","CATEGORIES","filter","nodes","entry","filteredEntries","includes","Layout","featuredArticle","tagCallback","id","EntryPreview","Index"],"sourceRoot":""}